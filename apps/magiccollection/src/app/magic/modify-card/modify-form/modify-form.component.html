<form (ngSubmit)="addCard()" class="modify-grid grid">
    <div class="mt-3" style="grid-area: 1 / 1 / 2 / 2">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="card-set">Card set:</label>
        <div class="relative w-fit inline-block">
            <select name="cardSet" class="app-select w-28" [ngModel]="cardSet" (ngModelChange)="onSetChange($event)">
                <option [value]="cardSetvalue" *ngFor="let cardSetvalue of cardSetsArray">
                    {{ cardSetvalue }}
                </option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
            </div>
        </div>
    </div>
    <div class="ml-4 pt-2 inline-block h-8 self-center" style="grid-area: 1 / 2 / 1 / 3" *ngIf="cardSet">
        <img
            class="setIcon max-w-none"
            style="height: inherit"
            src="assets/img/set-icons/{{ cardSet.toLowerCase() }}.svg"
            alt="Selected set icon {{ cardSet.toLowerCase() }}"
        />
    </div>
    <div class="mt-2" style="grid-area: 2 / 1 / 3 / 2">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="card-set">Card type:</label>
        <div class="relative w-fit">
            <select name="cardVariantType" class="app-select w-40" [(ngModel)]="cardVariantType">
                <option [value]="cardVariantTypeValue" *ngFor="let cardVariantTypeValue of cardVariantTypes">
                    {{ cardVariantTypeValue }}
                </option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
            </div>
        </div>
    </div>
    <div class="mt-2 mb-5" style="grid-area: 3 / 1 / 4 / 2">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="card-set">Card Language:</label>
        <div class="relative w-fit">
            <select name="cardLanguage" class="app-select w-40" [(ngModel)]="cardLanguage">
                <option [value]="cardLanguagesValue" *ngFor="let cardLanguagesValue of cardLanguages">
                    {{ cardLanguagesValue }}
                </option>
            </select>
            <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">
                <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"/></svg>
            </div>
        </div>
    </div>
    <div style="grid-area: 4 / 1 / 5 / last">
        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2" for="card-set">Card numbers:</label>
        <textarea
        class="block p-2.5 w-full text-sm text-gray-900 rounded-lg border border-gray-300 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500"
        style="min-width: 350px;"
        name="card-numbers"
        id="card-numbers"
        [(ngModel)]="cardNumbersStr"
        (input)="onCardTyping()"
        rows="5"
        ></textarea>
        <p class="text-danger" *ngIf="isError">
            Valami hiba történt, nézzed át a beírt számokat
            <ng-container *ngIf="wrongNums?.length !== 0"
                ><br />A rossz számok:
                <ng-container *ngFor="let wrong of wrongNums"
                    >{{ wrong }}
                </ng-container></ng-container
            >
            <ng-container *ngIf="notNumbers?.length"
                ><br />Nem szám:
                <ng-container *ngFor="let notNum of notNumbers"
                    >{{ notNum }}
                </ng-container></ng-container
            >
        </p>
    </div>
    <div class="pt-3" style="grid-area: 5 / 1 / 6 / last">
        <button class="btn btn-primary">Elküld</button>
        <button type="button" class="ml-3 btn btn-secondary bg-gray-500">Törlés</button>
    </div>
    <div style="grid-area: 1 / 4 / 5 / last">
        <ng-container *ngIf="lastCardPreview">
            <ul class="mx-2" >
                <app-magic-card [magicCard]="lastCardPreview" [onlyShow]="true"></app-magic-card>
                <br style="clear: both" />
            </ul>
        </ng-container>
        <ng-container *ngIf="!lastCardPreview">
            <app-empty-magic-card></app-empty-magic-card>
        <br style="clear: both" />
        </ng-container>
    </div>
</form>

